/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
var fdf=fdf||{};!function(e,a,s,t){"use strict";function i(){var s=e(a).height()-e("header").outerHeight(!0)-e("footer").outerHeight(!0);e(".flexbox-wrapper").css({"min-height":s+"px"}),e("footer").css({opacity:"1"})}e(".language-control").on("click",function(){e(this).toggleClass("arabic");var a=e('<link rel="stylesheet">').attr("href","assets/css/style-ar.min.css"),s=e('<link rel="stylesheet">').attr("href","assets/css/style.min.css");e(this).hasClass("arabic")?(e("head").append(a),e("head").find('link[href $="style.min.css"]').remove()):(e("head").append(s),e("head").find('link[href $="style-ar.min.css"]').remove())}),e(function(){i(),e(a).on("resize",i)}),e(".email-field").on("blur",function(){var a=e(this),s=e(this).data("weburl")+"/_vti_bin/FDFAM/Login/Login.svc/CheckEmail?emailid="+e(this).val()+"&weburl="+e(this).data("weburl");e.ajax({url:s,method:"GET",success:function(e){console.log(e),e?a.closest(".form-validate").find(".error-box").addClass("visible"):a.closest(".form-validate").find(".error-box").removeClass("visible")},error:function(){console.log("error")}})}),e(".action-buttons").on("click",".reset",function(){var a=e(this).closest(".form-validate");a.find("input,textarea,select").each(function(){var a=e(this);a.removeClass("error"),a.is("input,textarea")?a.is('input[type="radio"]')?a.closest(".radiobox").find('input[type="radio"]').eq(0).get(0).checked=!0:a.parent('[data-provide="datepicker"]').length>0?(a.val(""),a.parent('[data-provide="datepicker"]').removeData("datepicker")):a.val(""):a.is("select")&&(a.parent(".custom-select").addClass("not-chosen").removeClass("error"),a.val(a.find("option:first").val()),a.parent().hasClass("entity-type")&&a.attr("disabled",!0).parent().addClass("disabled"))}),a.find("label.error").remove()}),e(".action-buttons").on("click",".prev,.next",function(){var a=e(this);if(a.hasClass("disabled"))return!1;var s=a.closest(".wizard"),t=e(".wizard-link",s),i=e(".wizard-page",s);if(e(this).hasClass("next")){var l=fdf.form.validateForm(e(this).closest(".form-validate"));if(!l)return!1;var o=e(this).closest(".form-validate"),r=e(".form-text",o);r.length>0&&(r.find(".enter-message").removeClass("visible"),r.find(".success-message").addClass("visible").find(".email-add").text(o.find('input[type="email"]').val()))}var n=t.filter(function(){return e(this).hasClass("active")}).index(),d=e(this).hasClass("prev")?n-1:n+1;if(t.removeClass("active activated").eq(d).addClass("active").prevAll(".wizard-link").addClass("activated"),i.removeClass("active activated"),0===n){var c=s.find(".wizard-pages")[0].getAttribute("data-regTypeIndex");e(".tab-wrappers[data-formIndex="+c+"] .wizard-page").eq(d-1).addClass("active"),i.eq(0).addClass("activated")}else d>0?(a.closest(".tab-wrappers").find(".wizard-page").eq(d-1).addClass("active").prevAll(".wizard-page").addClass("activated"),i.eq(0).addClass("activated")):0===d&&i.eq(d).addClass("active")});var l=function(a){if(a.files&&a.files[0]){var s=new FileReader;s.onload=function(a){e(".profile-thumbnail img").attr("src",a.target.result)},s.readAsDataURL(a.files[0])}};e(s).on("change",'input[type="file"]',function(){var a=e(this).val().replace(/C:\\fakepath\\/i,"");e(this).siblings("input.file-explorer").val(a).removeClass("error"),e(this).siblings(".browse-link").addClass("added"),e(this).hasClass("showthumb")&&l(this)}),e(".choose-type").on("change",function(){var a=e(this),s=a.find("select").val();a.closest(".wizard-pages")[0].setAttribute("data-regTypeIndex",s),a.closest(".wizard-pages").find(".tab-wrappers[data-formindex="+s+"]").addClass("show").siblings(".tab-wrappers").removeClass("show");var t=a.data("weburl")+"/_vti_bin/FDFAM/Login/Login.svc/GetSubtypes?selectedvalue="+s+"&weburl="+a.data("weburl")+"&lcid="+a.data("lcid");e.ajax({url:t,method:"GET",success:function(a){console.log(a),e(".entity-type").removeClass("disabled").find("select").attr("disabled",!1).html('<option value=""selected disabled>Select</option>'),a.forEach(function(a){var s=e("<option value="+a+">"+a+"</option>");e(".entity-type select").append(s)})},error:function(){console.log("error")}})}),e(".custom-select select").on("change",function(){e(this).closest(".custom-select").removeClass("not-chosen")}),e('.radiobox.date-select input[type="radio"]').on("change",function(){var a=e(this).val();console.log(a),e(this).closest(".date-select").siblings(".between-dates,.particular-date").removeClass("visible"),e("."+a).addClass("visible")}),e(".select-award-btn").on("click",function(){e(this).closest("main").find(".modal").addClass("visible"),e("body").addClass("modalOpen")}),e(".modal").on("click",".cancel-modal",function(){e(this).closest(".modal").removeClass("visible"),e("body").removeClass("modalOpen")}),e(".modal").on("click",".select-all,.clear-all",function(){var a=e(this),s=e(this).closest(".modal-table"),t=e('input[type="checkbox"]',s);t.each(function(){a.hasClass("select-all")?(console.log(e(this).prop("checked")),e(this).prop("checked",!0)):e(this).prop("checked",!1)})}),e(".modal").on("click",".submit-modal",function(){var a=e(this),s=a.closest(".form-validate"),t=e('input[type="checkbox"]:checked',s);e(this).closest(".modal").removeClass("visible"),e("body").removeClass("modalOpen");var i=e(".selected-awards").html("");t.each(function(){var a=e('<a href="javascript:void(0)" class="gray-button rounded filter-item" />'),s=e('<span class ="text-uppercase"></span>').html(e(this).next("label").text());a.append(s),i.append(a)})})}(jQuery,window,document);